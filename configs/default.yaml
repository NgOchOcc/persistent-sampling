# Default configuration for Persistent SMC

# Model settings
model:
  name: "Qwen/Qwen2.5-Math-7B-Instruct"
  tensor_parallel_size: 1
  gpu_memory_utilization: 0.9
  enable_prefix_caching: true

# Persistent SMC hyperparameters
smc:
  N: 16                          # Number of particles
  k_max: 10                      # Maximum sliding window size
  tau: 0.33                      # ESS threshold for resampling (resample if ESS < tau * N)
  target_ess_ratio: 0.7          # Target ESS ratio for ESS-targeted annealing
  annealing_method: "ess_targeted"  # "linear", "power", "saturating", or "ess_targeted"
  T_anneal: 20                   # Annealing timescale (for linear/power methods)
  window_adaptive: "constant"    # "constant", "time", or "N"
  transform_sc: "centering"      # "none", "centering", or "clipping"
  reset_window_after_resample: true

# Generation settings
generation:
  max_steps: 50
  temperature: 0.8
  top_p: 0.95
  max_tokens_per_step: 100

# Evaluation settings
evaluation:
  answer_aggregation: "majority_vote"  # "majority_vote", "weighted_vote", or "first"

# Dataset paths
datasets:
  math500: "data/math500.json"
  aime24: "data/aime24.json"

# Output settings
output:
  dir: "results"
  save_intermediate: true
  save_frequency: 10  # Save every N problems
